!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.NovaRouter=e():t.NovaRouter=e()}(this,function(){return function(t){function e(r){if(n[r])return n[r].exports;var o=n[r]={exports:{},id:r,loaded:!1};return t[r].call(o.exports,o,o.exports,e),o.loaded=!0,o.exports}var n={};return e.m=t,e.c=n,e.p="",e(0)}([function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol?"symbol":typeof t},i=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),u=n(1),s=r(u),c=n(6),h=r(c),l=n(7),f=r(l);n(8);var d=n(3),p=r(d),v=n(9),y=r(v),m=n(10),g=r(m),b=n(2),w={"abstract":h["default"],hash:s["default"],html5:f["default"]},_=function(){function t(){var e=this,n=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],r=n.hashbang,a=void 0===r?!0:r,i=n["abstract"],u=void 0===i?!1:i,s=n.history,c=void 0===s?!1:s,h=n.saveScrollPosition,l=void 0===h?!1:h,f=n.suppressTransitionError,d=void 0===f?!1:f,v=n.root,y=void 0===v?null:v;o(this,t),this._recognizer=new p["default"],this._guardRecognizer=new p["default"],this._started=!1,this._startCb=null,this._currentRoute={},this._currentTransition=null,this._previousTransition=null,this._notFoundHandler=null,this._notFoundRedirect=null,this._beforeEachHooks=[],this._afterEachHooks=[],this._rendered=!1,this._root=y,this._hashbang=a,this._abstract=u;var m="undefined"!=typeof window&&window.history&&window.history.pushState;this._history=c&&m,this._historyFallBack=c&&!m,this.mode=!b.inBrowser||this._abstract?"abstract":this._history?"html5":"hash";var g=w[this.mode];this.history=new g({root:y,hashbang:this._hashbang,onChange:function(t,n,r){e._match(t,n,r)}}),this._saveScrollPosition=l,this._suppress=d,this._components=[]}return i(t,[{key:"map",value:function(t){for(var e in t)this.on(e,t[e]);return this}},{key:"on",value:function(t,e){return"*"===t?this._notFound(e):this._addRoute(t,e,[]),this}},{key:"redirect",value:function(t){for(var e in t)this._addRedirect(e,t[e]);return this}},{key:"alias",value:function(t){for(var e in t)this._addAlias(e,t[e]);return this}},{key:"beforeEach",value:function(t){return this._beforeEachHooks.push(t),this}},{key:"afterEach",value:function(t){return this._afterEachHooks.push(t),this}},{key:"go",value:function(t){var e=!1,n=!1;(0,b.isObject)(t)&&(e=t.replace,n=t.append),t=this.stringifyPath(t),t&&this.history.go(t,e,n)}},{key:"replace",value:function(t){"string"==typeof t&&(t={path:t}),t.replace=!0,this.go(t)}},{key:"start",value:function(t,e){if(this._started)return void(0,b.warn)("already started.");if(!this.routerView&&!t)throw new Error("Must start router with router view");"string"==typeof t&&(t=document.querySelector(t)),this.routerView=t,this._components.unshift(t),this._started=!0,this._startCb=e,this.history.start()}},{key:"stop",value:function(){this.history.stop(),this._started=!1}},{key:"stringifyPath",value:function(t){var e="";if(t&&"object"===("undefined"==typeof t?"undefined":a(t))){if(t.name?e=encodeURI(this._recognizer.generate(t.name,t.params||{})):t.path&&(e=encodeURI(t.path)),t.query){var n=this._recognizer.generateQueryString(t.query);e+=e.indexOf("?")>-1?"&"+n.slice(1):n}}else e=encodeURI(t?t+"":"");return e}},{key:"_notFound",value:function(t){this._notFoundHandler=[{handler:t}]}},{key:"_addRoute",value:function(t,e,n){if(e.path=t,e.fullPath=n.reduce(function(t,e){return t+e.path},"")+t,n.push({path:t,handler:e}),this._recognizer.add(n,{as:e.name}),e.component&&!this._components.includes(e.component)&&(this._components.push(e.component),e.component.$route=this._currentRoute),e.subRoutes)for(var r in e.subRoutes)this._addRoute(r,e.subRoutes[r],n.slice())}},{key:"_addRedirect",value:function(t,e){"*"===t?this._notFoundRedirect=e:this._addGuard(t,e,this.replace)}},{key:"_addAlias",value:function(t,e){this._addGuard(t,e,this._match)}},{key:"_addGuard",value:function(t,e,n){var r=this;this._guardRecognizer.add([{path:t,handler:function(t,o){var a=(0,b.mapParams)(e,t.params,o);n.call(r,a)}}])}},{key:"_checkGuard",value:function(t){var e=this._guardRecognizer.recognize(t,!0);return e?(e[0].handler(e[0],e.queryParams),!0):this._notFoundRedirect&&(e=this._recognizer.recognize(t),!e)?(this.replace(this._notFoundRedirect),!0):void 0}},{key:"_match",value:function(t,e,n){var r=this;if(!this._checkGuard(t)){var o=this._currentRoute,a=this._currentTransition;if(a){if(a.to.path===t)return;if(o.path===t)return a.aborted=!0,void(this._currentTransition=this._previousTransition);a.aborted=!0}var i=new y["default"](t,this),u=new g["default"](this,i,o);this._previousTransition=a,this._currentTransition=u;var s=this._beforeEachHooks,c=function(){u.start(function(){r._postTransition(u,e,n)})};s.length?u.callHooks(s,null,c):c()}}},{key:"_onTransitionValidated",value:function(t){var e=this;this._currentRoute=t.to,this._components.forEach(function(t){(0,b.setNovaProperty)(t,"$route",e._currentRoute)})}},{key:"_postTransition",value:function(t,e,n){!this._rendered&&this._startCb&&(this._rendered=!0,this._startCb.call(null)),this._currentTransition.done=!0;var r=e&&e.pos;r&&this._saveScrollPosition?setTimeout(function(){window&&window.scrollTo(r.x,r.y)},0):n&&setTimeout(function(){var t=document.getElementById(n.slice(1));t&&window&&window.scrollTo(window.scrollX,t.offsetTop)},0),this._afterEachHooks.length&&this._afterEachHooks.forEach(function(e){return e.call(null,{to:t.to,from:t.from})})}}]),t}();e["default"]=_},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),a=n(2),i=function(){function t(e){var n=e.hashbang,o=e.onChange;r(this,t),this.hashbang=n,this.onChange=o}return o(t,[{key:"start",value:function(){var t=this;this.listener=function(){var e=location.hash,n=e.replace(/^#!?/,"");"/"!==n.charAt(0)&&(n="/"+n);var r=t.formatPath(n);return r!==e?void location.replace(r):void t.onChange(e.replace(/^#!?/,""))},window.addEventListener("hashchange",this.listener),this.listener()}},{key:"stop",value:function(){window.removeEventListener("hashchange",this.listener)}},{key:"go",value:function(t,e,n){t=this.formatPath(t,n),e?location.replace(t):location.hash=t}},{key:"formatPath",value:function(t,e){var n="/"===t.charAt(0),r="#"+(this.hashbang?"!":"");return n?r+t:r+(0,a.resolvePath)(location.hash.replace(/^#!?/,""),t,e)}}]),t}();e["default"]=i},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function o(t,e,n){var r=t.match(/(\?.*)$/);if(r&&(r=r[1],t=t.slice(0,-r.length)),"?"===e.charAt(0))return t+e;var o=t.split("/");n&&o[o.length-1]||o.pop();for(var a=e.replace(/^\//,"").split("/"),i=0;i<a.length;i++){var u=a[i];"."!==u&&(".."===u?o.pop():o.push(u))}return""!==o[0]&&o.unshift(""),o.join("/")}function a(t){return t&&"function"==typeof t.then}function i(t){return null!=t&&"object"===("undefined"==typeof t?"undefined":f(t))&&Array.isArray(t)===!1}function u(t){"undefined"!=typeof console&&console.error("[nova-router] "+t)}function s(t){var e=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],n=arguments[2];return t=t.replace(/:([^\/]+)/g,function(n,r){var o=e[r];return o||u('param "'+r+'" not found when generating path for "'+t+'" with params '+JSON.stringify(e)),o||""}),n&&(t+=v(n)),t}function c(){var t=window||null;return"[object Window]"===Object.prototype.toString.call(t)}function h(t,e,n){t.hasProperty(e)?t.set(e,n):t.addProperty(e,{type:l("undefined"==typeof n?"undefined":f(n)),value:function(){return n}})}function l(t){return t.replace(/^\S/,function(t){return t.toUpperCase()})}Object.defineProperty(e,"__esModule",{value:!0}),e.setNovaProperty=void 0;var f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol?"symbol":typeof t};e.resolvePath=o,e.isPromise=a,e.isObject=i,e.warn=u,e.mapParams=s,e.inBrowser=c,e.initialCaps=l;var d=n(3),p=r(d),v=p["default"].prototype.generateQueryString;e.setNovaProperty=h},function(t,e,n){var r;(function(t){(function(){"use strict";function o(t,e,n){this.path=t,this.matcher=e,this.delegate=n}function a(t){this.routes={},this.children={},this.target=t}function i(t,e,n){return function(r,a){var u=t+r;return a?void a(i(u,e,n)):new o(t+r,e,n)}}function u(t,e,n){for(var r=0,o=0;o<t.length;o++)r+=t[o].path.length;e=e.substr(r);var a={path:e,handler:n};t.push(a)}function s(t,e,n,r){var o=e.routes;for(var a in o)if(o.hasOwnProperty(a)){var i=t.slice();u(i,a,o[a]),e.children[a]?s(i,e.children[a],n,r):n.call(r,i)}}function c(t){return"[object Array]"===Object.prototype.toString.call(t)}function h(t){this.string=t}function l(t){this.name=t}function f(t){this.name=t}function d(){}function p(t,e,n){"/"===t.charAt(0)&&(t=t.substr(1));var r=t.split("/"),o=new Array(r.length);n.val="";for(var a=0;a<r.length;a++){var i,u=r[a];(i=u.match(/^:([^\/]+)$/))?(o[a]=new l(i[1]),e.push(i[1]),n.val+="3"):(i=u.match(/^\*([^\/]+)$/))?(o[a]=new f(i[1]),n.val+="1",e.push(i[1])):""===u?(o[a]=new d,n.val+="2"):(o[a]=new h(u),n.val+="4")}return n.val=+n.val,o}function v(t){this.charSpec=t,this.nextStates=[],this.charSpecs={},this.regex=void 0,this.handlers=void 0,this.specificity=void 0}function y(t){return t.sort(function(t,e){return e.specificity.val-t.specificity.val})}function m(t,e){for(var n=[],r=0,o=t.length;o>r;r++){var a=t[r];n=n.concat(a.match(e))}return n}function g(t){this.queryParams=t||{}}function b(t,e,n){var r=t.handlers,o=t.regex,a=e.match(o),i=1,u=new g(n);u.length=r.length;for(var s=0;s<r.length;s++){for(var c=r[s],h=c.names,l={},f=0;f<h.length;f++)l[h[f]]=a[i++];u[s]={handler:c.handler,params:l,isDynamic:!!h.length}}return u}function w(t){t=t.replace(/\+/gm,"%20");var e;try{e=decodeURIComponent(t)}catch(n){e=""}return e}o.prototype={to:function(t,e){var n=this.delegate;if(n&&n.willAddRoute&&(t=n.willAddRoute(this.matcher.target,t)),this.matcher.add(this.path,t),e){if(0===e.length)throw new Error("You must have an argument in the function passed to `to`");this.matcher.addChild(this.path,t,e,this.delegate)}return this}},a.prototype={add:function(t,e){this.routes[t]=e},addChild:function(t,e,n,r){var o=new a(e);this.children[t]=o;var u=i(t,o,r);r&&r.contextEntered&&r.contextEntered(e,u),n(u)}};var _=function(t,e){var n=new a;t(i("",n,this.delegate)),s([],n,function(t){e?e(this,t):this.add(t)},this)},k=["/",".","*","+","?","|","(",")","[","]","{","}","\\"],P=new RegExp("(\\"+k.join("|\\")+")","g");h.prototype={eachChar:function(t){for(var e,n=this.string,r=0;r<n.length;r++)e=n.charAt(r),t=t.put({invalidChars:void 0,repeat:!1,validChars:e});return t},regex:function(){return this.string.replace(P,"\\$1")},generate:function(){return this.string}},l.prototype={eachChar:function(t){return t.put({invalidChars:"/",repeat:!0,validChars:void 0})},regex:function(){return"([^/]+)"},generate:function(t){return t[this.name]}},f.prototype={eachChar:function(t){return t.put({invalidChars:"",repeat:!0,validChars:void 0})},regex:function(){return"(.+)"},generate:function(t){return t[this.name]}},d.prototype={eachChar:function(t){return t},regex:function(){return""},generate:function(){return""}},v.prototype={get:function(t){if(this.charSpecs[t.validChars])return this.charSpecs[t.validChars];for(var e=this.nextStates,n=0;n<e.length;n++){var r=e[n],o=r.charSpec.validChars===t.validChars;if(o=o&&r.charSpec.invalidChars===t.invalidChars)return this.charSpecs[t.validChars]=r,r}},put:function(t){var e;return(e=this.get(t))?e:(e=new v(t),this.nextStates.push(e),t.repeat&&e.nextStates.push(e),e)},match:function(t){for(var e,n,r,o=this.nextStates,a=[],i=0;i<o.length;i++)e=o[i],n=e.charSpec,"undefined"!=typeof(r=n.validChars)?-1!==r.indexOf(t)&&a.push(e):"undefined"!=typeof(r=n.invalidChars)&&-1===r.indexOf(t)&&a.push(e);return a}};var C=Object.create||function(t){function e(){}return e.prototype=t,new e};g.prototype=C({splice:Array.prototype.splice,slice:Array.prototype.slice,push:Array.prototype.push,length:0,queryParams:null});var x=function(){this.rootState=new v,this.names={}};x.prototype={add:function(t,e){for(var n,r=this.rootState,o="^",a={},i=new Array(t.length),u=[],s=!0,c=0;c<t.length;c++){var h=t[c],l=[],f=p(h.path,l,a);u=u.concat(f);for(var v=0;v<f.length;v++){var y=f[v];y instanceof d||(s=!1,r=r.put({invalidChars:void 0,repeat:!1,validChars:"/"}),o+="/",r=y.eachChar(r),o+=y.regex())}var m={handler:h.handler,names:l};i[c]=m}s&&(r=r.put({invalidChars:void 0,repeat:!1,validChars:"/"}),o+="/"),r.handlers=i,r.regex=new RegExp(o+"$"),r.specificity=a,(n=e&&e.as)&&(this.names[n]={segments:u,handlers:i})},handlersFor:function(t){var e=this.names[t];if(!e)throw new Error("There is no route named "+t);for(var n=new Array(e.handlers.length),r=0;r<e.handlers.length;r++)n[r]=e.handlers[r];return n},hasRoute:function(t){return!!this.names[t]},generate:function(t,e){var n=this.names[t],r="";if(!n)throw new Error("There is no route named "+t);for(var o=n.segments,a=0;a<o.length;a++){var i=o[a];i instanceof d||(r+="/",r+=i.generate(e))}return"/"!==r.charAt(0)&&(r="/"+r),e&&e.queryParams&&(r+=this.generateQueryString(e.queryParams,n.handlers)),r},generateQueryString:function(t,e){var n=[],r=[];for(var o in t)t.hasOwnProperty(o)&&r.push(o);r.sort();for(var a=0;a<r.length;a++){o=r[a];var i=t[o];if(null!=i){var u=encodeURIComponent(o);if(c(i))for(var s=0;s<i.length;s++){var h=o+"[]="+encodeURIComponent(i[s]);n.push(h)}else u+="="+encodeURIComponent(i),n.push(u)}}return 0===n.length?"":"?"+n.join("&")},parseQueryString:function(t){for(var e=t.split("&"),n={},r=0;r<e.length;r++){var o,a=e[r].split("="),i=w(a[0]),u=i.length,s=!1;1===a.length?o="true":(u>2&&"[]"===i.slice(u-2)&&(s=!0,i=i.slice(0,u-2),n[i]||(n[i]=[])),o=a[1]?w(a[1]):""),s?n[i].push(o):n[i]=o}return n},recognize:function(t){var e,n,r,o=[this.rootState],a={},i=!1;if(r=t.indexOf("?"),-1!==r){var u=t.substr(r+1,t.length);t=t.substr(0,r),a=this.parseQueryString(u)}for(t=decodeURI(t),"/"!==t.charAt(0)&&(t="/"+t),e=t.length,e>1&&"/"===t.charAt(e-1)&&(t=t.substr(0,e-1),i=!0),n=0;n<t.length&&(o=m(o,t.charAt(n)),o.length);n++);var s=[];for(n=0;n<o.length;n++)o[n].handlers&&s.push(o[n]);o=y(s);var c=s[0];return c&&c.handlers?(i&&"(.+)$"===c.regex.source.slice(-5)&&(t+="/"),b(c,t,a)):void 0}},x.prototype.map=_,x.VERSION="0.1.11";var R=x;n(5).amd?(r=function(){return R}.call(e,n,e,t),!(void 0!==r&&(t.exports=r))):"undefined"!=typeof t&&t.exports?t.exports=R:"undefined"!=typeof this&&(this.RouteRecognizer=R)}).call(this)}).call(e,n(4)(t))},function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children=[],t.webpackPolyfill=1),t}},function(t,e){t.exports=function(){throw new Error("define cannot be used indirect")}},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),a=n(2),i=function(){function t(e){var n=e.onChange;r(this,t),this.onChange=n,this.currentPath="/"}return o(t,[{key:"start",value:function(){this.onChange("/")}},{key:"stop",value:function(){}},{key:"go",value:function(t,e,n){t=this.currentPath=this.formatPath(t,n),this.onChange(t)}},{key:"formatPath",value:function(t,e){return"/"===t.charAt(0)?t:(0,a.resolvePath)(this.currentPath,t,e)}}]),t}();e["default"]=i},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),a=n(2),i=/#.*$/,u=function(){function t(e){var n=e.root,o=e.onChange;r(this,t),n&&"/"!==n?("/"!==n.charAt(0)&&(n="/"+n),this.root=n.replace(/\/$/,""),this.rootRegExp=new RegExp("^\\"+this.root)):this.root=null,this.onChange=o;var a=document.querySelector("base");this.base=a&&a.getAttribute("href")}return o(t,[{key:"start",value:function(){var t=this;this.listener=function(e){var n=location.pathname+location.search;t.root&&(n=n.replace(t.rootRegExp,"")||"/"),t.onChange(n,e&&e.state,location.hash)},window.addEventListener("popstate",this.listener),this.listener()}},{key:"stop",value:function(){window.removeEventListener("popstate",this.listener)}},{key:"go",value:function(t,e,n){var r=this.formatPath(t,n);e?history.replaceState({},"",r):(history.replaceState({pos:{x:window.pageXOffset,y:window.pageYOffset}},"",location.href),history.pushState({},"",r));var o=t.match(i),a=o&&o[0];t=r.replace(i,"").replace(this.rootRegExp,""),this.onChange(t,null,a)}},{key:"formatPath",value:function(t,e){return"/"===t.charAt(0)?this.root?this.root+"/"+t.replace(/^\//,""):t:(0,a.resolvePath)(this.base||location.pathname,t,e)}}]),t}();e["default"]=u},function(t,e,n){var r,o,a,i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol?"symbol":typeof t};(function(){!function(n,u){if("object"===i(e))t.exports=u();else{o=[],r=u,a="function"==typeof r?r.apply(e,o):r,!(void 0!==a&&(t.exports=a))}}(this,function(){var t=void 0;return NovaExports.__fixedUglify="script>",NovaExports.exports={template:"\n    "},NovaExports({is:"router-view"}),t})}).call(window)},function(t,e){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var r=/^(component|subRoutes|fullPath)$/,o=function a(t,e){var o=this;n(this,a);var i=e._recognizer.recognize(t);i&&([].forEach.call(i,function(t){for(var e in t.handler)r.test(e)||(o[e]=t.handler[e])}),this.query=i.queryParams,this.params=[].reduce.call(i,function(t,e){if(e.params)for(var n in e.params)t[n]=e.params[n];return t},{})),this.path=t,this.matched=i||e._notFoundHandler,Object.defineProperty(this,"router",{enumeralbe:!1,value:e}),Object.freeze(this)};e["default"]=o},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t){return"[object Object]"===Object.prototype.toString.call(t)}Object.defineProperty(e,"__esModule",{value:!0});var a=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=n(2),u=n(11),s=function(){function t(e,n,o){r(this,t),this.router=e,this.to=n,this.from=o,this.next=null,this.aborted=!1,this.done=!1}return a(t,[{key:"abort",value:function(){if(!this.aborted){this.aborted=!0;var t=!this.from.path&&"/"===this.to.path;t||this.router.replace(this.from.path||"/")}}},{key:"redirect",value:function(t){this.aborted||(this.aborted=!0,"string"==typeof t?t=(0,i.mapParams)(t,this.to.params,this.to.query):(t.params=t.params||this.to.params,t.query=t.query||this.to.query),this.router.replace(t))}},{key:"start",value:function(){var t=arguments.length<=0||void 0===arguments[0]?function(){}:arguments[0],e=this,n=this.from.matched?[].map.call(this.from.matched,function(t){return t}):[],r=this.to.matched?[].map.call(this.to.matched,function(t){return t}):[],o=n.slice().reverse();e.reuseQueue=(0,u.getReuseQueue)(n,r,this),e.runQueue(o,u.canDeactivate,{factor:1},function(){e.runQueue(r,u.canActivate,{factor:-1},function(){e.router._onTransitionValidated(e),e.runQueue(o,u.deactivate,{factor:1},function(){e.runQueue(r,u.activate,{factor:-1},t)})})})}},{key:"runQueue",value:function(t,e,n){function r(n){if(n>=c)f();else{var o=void 0;o=a?[t[n+a],t[n]]:[t[n]],o=o.concat([d,function(){r(n+1)}]).concat(l),e.apply(d,o)}}var o=n.factor,a=void 0===o?0:o,i=n.start,u=void 0===i?0:i,s=n.end,c=void 0===s?t.length:s,h=n.fnArgs,l=void 0===h?[]:h,f=arguments.length<=3||void 0===arguments[3]?function(){}:arguments[3],d=this;r(u)}},{key:"callHook",value:function(t,e,n){var r=arguments.length<=3||void 0===arguments[3]?{}:arguments[3],a=r.expectBoolean,u=void 0===a?!1:a,s=r.postActivate,c=void 0===s?!1:s,h=r.processData,l=r.cleanup,f=this,d=!1,p=!1,v=function(){p=!0,l&&l(),f.abort()},y=function(t){if(c?g():v(),t&&!f.router._suppress)throw(0,i.warn)("Uncaught error during transition: "),t instanceof Error?t:new Error(t)},m=function(t){try{y(t)}catch(e){setTimeout(function(){throw e},0)}},g=function(){return d?void(0,i.warn)("transition.next() should be called only once."):(d=!0,f.aborted?void(l&&l()):void(n&&n()))},b=function(e){"boolean"==typeof e?e?g():v():(0,i.isPromise)(e)?e.then(function(t){t?g():v()},m):t.length||y("must return Boolean or Promise in "+t)},w=function(t){var e=void 0;try{e=h(t)}catch(n){return y(n)}(0,i.isPromise)(e)?e.then(g,m):g()},_={to:f.to,from:f.from,abort:c?function(){return!0}:v,next:h?w:g,redirect:function(){f.redirect.apply(f,arguments)}},k=void 0;try{k=t.call(e,_)}catch(P){return y(P)}u?b(k):(0,i.isPromise)(k)?h?k.then(w,m):k.then(g,m):h&&o(k)?w(k):t.length||g()}},{key:"callHooks",value:function(t,e,n,r){var o=this;Array.isArray(t)?this.runQueue(t,function(t,n,a){o.aborted||o.callHook(t,e,a,r)},{},n):this.callHook(t,e,n,r)}}]),t}();e["default"]=s},function(t,e,n){"use strict";function r(t,e,n){for(var r=Math.min(t.length,e.length),o=[],a=0;r>a;a++){var i=t[a].handler.component,u=e[a].handler.component;if(!Object.is(i,u)){a--;break}var s=i.route?"function"==typeof i.route.canReuse?i.route.canReuse({to:n.to,from:n.from}):i.route.canReuse:!0;if(s===!1){a--;break}o.push(t[a])}return o}function o(t,e,n,r){if(t=t||{handler:{component:n.router.routerView}},h(t.handler.component,e.handler.component)){if(s(e,n))return void(r&&r&&r());var o=e.handler.component,a=o.route&&o.route.deactivate||function(){return!0};n.callHook(a,o,function(){t.handler.component.removeChild(e.handler.component),r&&r()},{postActivate:!0})}else r&&r&&r()}function a(t,e,n,r){t=t||{handler:{component:n.router.routerView}};var o=e.handler.component;if(h(t.handler.component,e.handler.component))c(o,n),r&&r();else{var a=o.route&&o.route.activate||function(){return!0};n.callHook(a,o,function(){t.handler.component.appendChild(e.handler.component),c(o,n),r&&r()},{postActivate:!0})}}function i(t,e,n,r){if(t=t||{handler:{component:n.router.routerView}},h(t.handler.component,e.handler.component))r&&r();else{var o=e.handler.component,a=o.route&&o.route.canActivate||function(){return!0};n.callHook(a,o,r,{expectBoolean:!0})}}function u(t,e,n,r){if(t=t||{handler:{component:n.router.routerView}},t.handler.component.contains(e.handler.component)){if(s(e,n))return void(r&&r());var o=e.handler.component,a=o.route&&o.route.canDeactivate||function(){return!0};n.callHook(a,o,r,{expectBoolean:!0})}else r&&r()}function s(t,e){for(var n=e.reuseQueue.length-1;n>-1;n--)if(Object.is(t.handler.component,e.reuseQueue[n].handler.component))return!0;return!1}function c(t,e){(0,f.setNovaProperty)(t,"loadingRouteData",!0);var n=t.route&&t.route.data||function(){return{}};e.callHook(n,t,function(){(0,f.setNovaProperty)(t,"loadingRouteData",!1)},{postActivate:!0,processData:function(e){var n=[];return l(e)&&Object.keys(e).forEach(function(r){var o=e[r];(0,f.isPromise)(o)?n.push(o.then(function(e){(0,f.setNovaProperty)(t,r,e)})):(0,f.setNovaProperty)(t,r,o)}),n.length?n[0].constructor.all(n):void 0}})}function h(t,e){if(!t||!e||!t.hasChildNodes())return!1;for(var n=t.childNodes,r=n.length-1;r>-1;r--)if(n[r].isSameNode(e))return!0;return!1}function l(t){return"[object Object]"===Object.prototype.toString.call(t)}Object.defineProperty(e,"__esModule",{value:!0}),e.getReuseQueue=r,e.deactivate=o,e.activate=a,e.canActivate=i,e.canDeactivate=u,e.canReuse=s,e.data=c,e.isChildNode=h;var f=n(2)}])});